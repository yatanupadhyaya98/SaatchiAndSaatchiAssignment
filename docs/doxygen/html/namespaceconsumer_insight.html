<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Brand Theme Pipeline: consumerInsight Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Brand Theme Pipeline
   </div>
   <div id="projectbrief">Synthetic brand mention analysis with sentiment + semantic clustering</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('namespaceconsumer_insight.html','',''); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
</script>
<div id="main-nav"></div>
<div id="container"><div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">consumerInsight Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae9a6e059374f9922fb82eb452023bdd8" id="r_ae9a6e059374f9922fb82eb452023bdd8"><td class="memItemLeft">pd.DataFrame&#160;</td><td class="memItemRight"><a class="el" href="#ae9a6e059374f9922fb82eb452023bdd8">synthesize_mentions</a> (int n=100, int seed=42)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">@file brand_theme_pipeline.py
@brief Synthetic brand mention analysis pipeline using sentiment analysis
       and semantic clustering.

@details
This script implements an end-to-end pipeline that:
- Generates synthetic social media mentions for two retail brands
- Cleans and preprocesses textual content
- Computes sentiment using VADER
- Embeds text using Sentence-BERT
- Clusters mentions into themes using KMeans
- Labels clusters via TF-IDF keywords
- Ranks themes using volume, engagement, and sentiment intensity

All outputs are exported as CSV files for downstream analysis.
</pre> </div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ae9a6e059374f9922fb82eb452023bdd8" name="ae9a6e059374f9922fb82eb452023bdd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a6e059374f9922fb82eb452023bdd8">&#9670;&#160;</a></span>synthesize_mentions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> pd.DataFrame consumerInsight.synthesize_mentions </td>
          <td>(</td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>n</em></span><span class="paramdefsep"> = </span><span class="paramdefval">100</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>seed</em></span><span class="paramdefsep"> = </span><span class="paramdefval">42</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Generate a synthetic dataset of brand mentions.

@details
This function simulates social media mentions for Amazon and MediaMarkt
across multiple platforms. Each mention is generated from predefined
templates with controlled probability distributions to ensure that
dominant themes emerge realistically.

Ground-truth theme and polarity labels are included for validation
and debugging purposes.

@section synth_config Synthesis configuration (documented local elements)

@subsection brand_weights_doc brand_weights
@brief Probability distribution for brand occurrence.
@details
Amazon is assigned a slightly higher weight (0.55) than MediaMarkt (0.45)
to reflect its larger online presence and higher expected mention volume
on social platforms. The values are intentionally close to avoid extreme
class imbalance while still allowing observable dominance.

@subsection polarity_weights_doc polarity_weights
@brief Sentiment polarity distribution per brand.
@details
For Amazon, a slight negative skew (52%) is introduced to reflect common
complaints related to customer service, returns, and third-party sellers.
MediaMarkt is modeled with a more positive balance (55%) due to its
in-store support and assisted purchasing experience.
Values are close to 50/50 to preserve realism and avoid artificial bias.

@subsection theme_weights_doc theme_weights
@brief Theme probability distribution conditioned on brand and polarity.
@details
These weights are designed so that:
- Two dominant themes per (brand, polarity) naturally emerge
- Minor themes remain present but less frequent

Example:
- Amazon positive mentions are dominated by price deals (0.42) and fast
  delivery (0.40), reflecting its value and logistics strengths.
- Amazon negative mentions emphasize customer service and return issues.

All sub-distributions sum to 1.0 to maintain probabilistic consistency.

@subsection weighted_choice_doc weighted_choice
@brief Weighted sampling helper (nested function).
@details
This helper is defined inside synthesize_mentions() to keep sampling logic
scoped locally. Doxygen does not list nested Python functions as standalone
API entries, so the documentation is provided here to remain visible.

@subsection rows_doc rows
@brief Container for synthesized mention records.
@details
Each entry represents one synthetic social media mention, including
brand, platform, text, engagement metrics, and ground-truth labels.

@subsection loop_doc Main generation loop
@brief Iteratively construct mention records.
@details
For each iteration:
- A brand is sampled according to brand_weights
- A platform is sampled uniformly
- Sentiment polarity is sampled conditionally on brand
- A theme is sampled conditionally on (brand, polarity)
- A text template is selected accordingly
- Engagement metrics are generated using normal distributions

@subsection engagement_doc Engagement generation
@brief Engagement is modeled using normal distributions.
@details
Engagement metrics are generated using normal distributions to mimic
real-world variability:
- Positive mentions receive higher average likes
- Negative mentions receive more replies (discussion-driven)
- Shares are kept low and noisy across both polarities

The max(0, Â·) constraint ensures non-negative engagement counts.

@param n Number of synthetic mentions to generate.
         Default = 100 to keep clustering stable while remaining lightweight.
@param seed Random seed for reproducibility of sampling and engagement values.
@return DataFrame containing synthetic mentions and metadata.
</pre> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespaceconsumer_insight.html">consumerInsight</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
